#  Проектна работы по курсу Observability в Otus

## Тема
«Мониторинг корпоравного портала Битрикс» 


## Инфраструктуры
Инфраструктура состоит из следуюших нод:

bitrix - корпоравный портал на Битрикс  
prometeus -  мониторинг и оповещения  
elk - логирование  
grafana - визуализация

В качестве стека мониторинга используются:

Exporter's - экспортеры метрик  
Prometheus - хранилище метрик  
Beats - агент сбора логов  
Elasticsearch - система агрегации логов 
Elastic APM - система мониторинга производительности приложений 
Grafana - визуализация

###  Корпоравный портал на Битрикс
!![html](img/bitrix.JPG)

## Дашборды и метрики
Метрики собираются при помощи отдельных экспортеров (node, blackbox...). В графане мы получаем возможность наблюдать за  метриками передаваемыми экспортерами

### 
Дашбоард работы портала
![html](img/graf1.JPG)

Дашбоард инраструктуры
![html](img/graf1.JPG)

Дашборд MYSQL 
![html](img/graf3.JPG)

## Логирование

С помощью beats организован сбор логов о работе сервисов и отправка в elastick
![html](img/elk.JPG)


##Трейсинг
APM-server сервер получает данные от php агента установленного на портале и отпраляе в elastic
![html](img/apm.JPG)
![html](img/apm2.JPG)
![html](img/apm3.JPG)


## Алертинг

Настроен алертинг о недоступности сайта, недоступности хоста, загрузка ЦП и памяти. Доставка уведомлений осуществляется в Telegram.

![html](img/alerting.JPG)
![html](img/alerting2.JPG)
![html](img/alerting3.JPG)
![html](img/alerting4.JPG)

